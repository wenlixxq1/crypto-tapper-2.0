/*! For license information please see main.ed28a574b80b5ddd4c88.js.LICENSE.txt */
(()=>{"use strict";javascript;class t{constructor(t,e){this.userService=t,this.cryptoService=e,this.element=this.createTapperElement(),this.setupEventListeners(),this.setupAutoTapper(),this.animationFrame=null,this.lastUpdateTime=0,this.updateInterval=1e3/60}createTapperElement(){const t=document.createElement("div");t.className="tapper-container";const e=this.userService.getTapPower(),n=this.userService.getPassiveIncome();return t.innerHTML=`\n      <div class="tapper-header">\n        <div class="stats">\n          <div class="stat">\n            <span class="stat-label">–°–∏–ª–∞ —Ç–∞–ø–∞:</span>\n            <span class="stat-value tap-power">${e}</span>\n          </div>\n          <div class="stat">\n            <span class="stat-label">–ü–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥:</span>\n            <span class="stat-value passive-income">${n}/—Å–µ–∫</span>\n          </div>\n        </div>\n        <div class="total-balance">\n          <span class="balance-label">–í—Å–µ–≥–æ:</span>\n          <span class="balance-value">${this.userService.getFormattedBalance()}</span>\n        </div>\n      </div>\n      \n      <div class="tapper-main">\n        <div class="tap-area">\n          <button class="tap-button">\n            <span class="tap-button-text">TAP!</span>\n            <span class="tap-button-subtext">–ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π –∫—Ä–∏–ø—Ç—É</span>\n          </button>\n          <div class="tap-effects"></div>\n        </div>\n        \n        <div class="crypto-display">\n          <div class="crypto-ticker">\n            ${this.renderCryptoTicker()}\n          </div>\n          <div class="recent-earnings">\n            <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞—Ä–∞–±–æ—Ç–∫–∏:</h3>\n            <div class="earnings-list"></div>\n          </div>\n        </div>\n      </div>\n      \n      <div class="bonus-section">\n        <div class="bonus-timer">\n          <div class="bonus-progress"></div>\n          <span class="bonus-time">00:00</span>\n        </div>\n        <button class="bonus-button" disabled>–ë–æ–Ω—É—Å —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω</button>\n      </div>\n    `,t}renderCryptoTicker(){const t=this.userService.getCryptoBalances();return Object.entries(t).map(([t,e])=>`\n        <div class="crypto-item">\n          <span class="crypto-amount">${e.toFixed(4)}</span>\n          <span class="crypto-name">${this.cryptoService.getCryptoName(t)}</span>\n          <span class="crypto-symbol">${t}</span>\n        </div>\n      `).join("")}setupEventListeners(){this.tapButton=this.element.querySelector(".tap-button"),this.tapButton.addEventListener("click",()=>this.handleTap()),this.bonusButton=this.element.querySelector(".bonus-button"),this.bonusButton.addEventListener("click",()=>this.claimBonus()),this.startGameLoop()}setupAutoTapper(){this.userService.hasAutoTapper()&&(this.autoTapperInterval=setInterval(()=>{this.handleAutoTap()},1e3))}startGameLoop(){const t=e=>{this.lastUpdateTime||(this.lastUpdateTime=e);const n=e-this.lastUpdateTime;n>=this.updateInterval&&(this.update(n),this.lastUpdateTime=e-n%this.updateInterval),this.animationFrame=requestAnimationFrame(t)};this.animationFrame=requestAnimationFrame(t)}update(t){if(this.userService.hasPassiveIncome()&&(this.passiveIncomeAccumulator+=this.userService.getPassiveIncome()*(t/1e3),this.passiveIncomeAccumulator>=1)){const t=Math.floor(this.passiveIncomeAccumulator);this.userService.addPassiveIncome(t),this.passiveIncomeAccumulator-=t,this.updateUI()}this.updateBonusTimer(t)}handleTap(){if(this.isTapCooldown)return;this.isTapCooldown=!0,setTimeout(()=>{this.isTapCooldown=!1},100);const t=this.cryptoService.getRandomCrypto(),e=this.calculateEarnings();this.userService.addCrypto(t,e),this.createTapEffect(e,t),this.updateUI(),this.userService.incrementTapCount()}handleAutoTap(){if(this.userService.hasAutoTapper()){const t=this.cryptoService.getRandomCrypto(),e=.5*this.calculateEarnings();this.userService.addCrypto(t,e),this.createAutoTapEffect(e,t),this.updateUI()}}calculateEarnings(){let t=this.userService.getTapPower();return this.userService.hasMultiTap()&&Math.random()<.25&&(t*=2),this.userService.hasSubscription()&&(t*=this.userService.getSubscriptionMultiplier()),this.isBonusActive&&(t*=this.bonusMultiplier),Math.floor(t)}createTapEffect(t,e){const n=this.element.querySelector(".tap-effects"),r=document.createElement("div");r.className="tap-effect";const i=this.cryptoService.getCryptoSymbol(e);r.innerHTML=`\n      <span class="earn-amount">+${t.toFixed(2)}</span>\n      <span class="crypto-symbol">${i}</span>\n    `;const a=Math.random()*Math.PI*2,s=30+50*Math.random(),o=Math.cos(a)*s,c=Math.sin(a)*s;r.style.left=`calc(50% + ${o}px)`,r.style.top=`calc(50% + ${c}px)`,n.appendChild(r),setTimeout(()=>{r.style.transform=`translate(${2*o}px, ${2*c-100}px)`,r.style.opacity="0",setTimeout(()=>{r.remove()},1e3)},10),this.addToEarningsList(t,e)}createAutoTapEffect(t,e){const n=this.element.querySelector(".tap-effects"),r=document.createElement("div");r.className="tap-effect auto-tap";const i=this.cryptoService.getCryptoSymbol(e);r.innerHTML=`\n      <span class="earn-amount">+${t.toFixed(2)}</span>\n      <span class="crypto-symbol">${i}</span>\n    `,r.style.left=10+80*Math.random()+"%",r.style.bottom="10%",n.appendChild(r),setTimeout(()=>{r.style.transform="translateY(-100px)",r.style.opacity="0",setTimeout(()=>{r.remove()},1e3)},10)}addToEarningsList(t,e){const n=this.element.querySelector(".earnings-list"),r=document.createElement("div");r.className="earnings-item";const i=this.cryptoService.getCryptoSymbol(e);r.innerHTML=`\n      <span class="earn-amount">+${t.toFixed(4)}</span>\n      <span class="crypto-symbol">${i}</span>\n      <span class="earn-time">${(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}</span>\n    `,n.prepend(r),n.children.length>10&&n.removeChild(n.lastChild)}updateBonusTimer(t){this.bonusStartTime||(this.bonusStartTime=Date.now(),this.bonusCooldown=3e5);const e=Date.now()-this.bonusStartTime,n=Math.max(0,this.bonusCooldown-e),r=Math.floor(n/6e4),i=Math.floor(n%6e4/1e3),a=`${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`;this.element.querySelector(".bonus-time").textContent=a;const s=100-n/this.bonusCooldown*100;this.element.querySelector(".bonus-progress").style.width=`${s}%`,n<=0&&!this.isBonusActive&&this.enableBonus()}enableBonus(){this.isBonusActive=!0,this.bonusMultiplier=2,this.bonusButton.disabled=!1,this.bonusButton.textContent="–ü–æ–ª—É—á–∏—Ç—å 2x –±–æ–Ω—É—Å –Ω–∞ 30 —Å–µ–∫!",this.bonusButton.classList.add("active"),this.bonusStartTime=null}claimBonus(){this.isBonusActive&&(this.isBonusActive=!1,this.bonusButton.disabled=!0,this.bonusButton.textContent="–ë–æ–Ω—É—Å –∞–∫—Ç–∏–≤–µ–Ω!",this.bonusButton.classList.remove("active"),this.userService.activateBonus(this.bonusMultiplier,3e4),setTimeout(()=>{this.bonusButton.textContent="–ë–æ–Ω—É—Å —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω",this.bonusStartTime=Date.now()},3e4))}updateUI(){this.element.querySelector(".balance-value").textContent=this.userService.getFormattedBalance(),this.element.querySelector(".crypto-ticker").innerHTML=this.renderCryptoTicker(),this.element.querySelector(".tap-power").textContent=this.userService.getTapPower(),this.element.querySelector(".passive-income").textContent=`${this.userService.getPassiveIncome()}/—Å–µ–∫`}destroy(){this.animationFrame&&cancelAnimationFrame(this.animationFrame),this.autoTapperInterval&&clearInterval(this.autoTapperInterval)}getElement(){return this.element}}javascript;class e{constructor(t){this.userService=t,this.element=this.createShopElement(),this.setupEventListeners()}createShopElement(){const t=document.createElement("div");t.className="shop-component";const e=this.getAvailableUpgrades(),n=this.userService.getBalance();return t.innerHTML=`\n      <h2 class="shop-title">–ú–∞–≥–∞–∑–∏–Ω —É–ª—É—á—à–µ–Ω–∏–π</h2>\n      <div class="balance-display">–í–∞—à –±–∞–ª–∞–Ω—Å: ${n.toFixed(2)} USD</div>\n      \n      <div class="upgrade-categories">\n        <button class="category-btn active" data-category="all">–í—Å–µ</button>\n        <button class="category-btn" data-category="tap">–¢–∞–ø—ã</button>\n        <button class="category-btn" data-category="auto">–ê–≤—Ç–æ–º–∞—Ç–∏–∫–∞</button>\n        <button class="category-btn" data-category="boost">–ë—É—Å—Ç—ã</button>\n      </div>\n      \n      <div class="upgrades-list">\n        ${this.renderUpgradesList(e)}\n      </div>\n    `,t}getAvailableUpgrades(){return[{id:"tap_power_1",name:"–£—Å–∏–ª–µ–Ω–Ω—ã–π —Ç–∞–ø I",description:"+1 –∫ —Å–∏–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ç–∞–ø–∞",price:100,category:"tap",owned:this.userService.hasUpgrade("tap_power_1"),icon:"üí™"},{id:"tap_power_2",name:"–£—Å–∏–ª–µ–Ω–Ω—ã–π —Ç–∞–ø II",description:"+3 –∫ —Å–∏–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ç–∞–ø–∞",price:300,category:"tap",requires:"tap_power_1",owned:this.userService.hasUpgrade("tap_power_2"),icon:"üí™üí™"},{id:"auto_tap",name:"–ê–≤—Ç–æ-—Ç–∞–ø–µ—Ä",description:"–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ç–∞–ø–∞–µ—Ç 1 —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É",price:500,category:"auto",owned:this.userService.hasUpgrade("auto_tap"),icon:"‚è±Ô∏è"},{id:"crypto_boost",name:"–ö—Ä–∏–ø—Ç–æ-–±—É—Å—Ç",description:"+10% –∫ –∑–∞—Ä–∞–±–æ—Ç–∫—É –æ—Ç –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤",price:1e3,category:"boost",owned:this.userService.hasUpgrade("crypto_boost"),icon:"üöÄ"},{id:"luck_boost",name:"–£–¥–∞—á–∞",description:"–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —à–∞–Ω—Å –≤—ã–ø–∞–¥–µ–Ω–∏—è —Ä–µ–¥–∫–æ–π –∫—Ä–∏–ø—Ç—ã",price:800,category:"boost",owned:this.userService.hasUpgrade("luck_boost"),icon:"üçÄ"},{id:"multi_tap",name:"–ú—É–ª—å—Ç–∏-—Ç–∞–ø",description:"25% —à–∞–Ω—Å —Å–¥–µ–ª–∞—Ç—å –¥–≤–æ–π–Ω–æ–π —Ç–∞–ø",price:1200,category:"tap",requires:"tap_power_2",owned:this.userService.hasUpgrade("multi_tap"),icon:"‚úñÔ∏è"}]}renderUpgradesList(t){return 0===t.length?'<p class="no-upgrades">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π</p>':t.map(t=>`\n      <div class="upgrade-item ${t.owned?"owned":""} ${this.canBuyUpgrade(t)?"":"locked"}" \n           data-id="${t.id}">\n        <div class="upgrade-icon">${t.icon}</div>\n        <div class="upgrade-info">\n          <h3 class="upgrade-name">${t.name}</h3>\n          <p class="upgrade-description">${t.description}</p>\n          ${t.requires?`<div class="upgrade-requires">–¢—Ä–µ–±—É–µ—Ç—Å—è: ${this.getUpgradeName(t.requires)}</div>`:""}\n        </div>\n        <div class="upgrade-price">\n          ${t.owned?'<span class="owned-badge">–ö—É–ø–ª–µ–Ω–æ</span>':`${t.price.toFixed(2)} USD`}\n        </div>\n      </div>\n    `).join("")}canBuyUpgrade(t){return!t.owned&&!(t.requires&&!this.userService.hasUpgrade(t.requires))&&this.userService.getBalance()>=t.price}getUpgradeName(t){const e=this.getAvailableUpgrades().find(e=>e.id===t);return e?e.name:t}setupEventListeners(){this.element.querySelectorAll(".category-btn").forEach(t=>{t.addEventListener("click",()=>{this.element.querySelectorAll(".category-btn").forEach(t=>t.classList.remove("active")),t.classList.add("active");const e=t.dataset.category,n=this.getAvailableUpgrades(),r="all"===e?n:n.filter(t=>t.category===e);this.element.querySelector(".upgrades-list").innerHTML=this.renderUpgradesList(r),this.setupUpgradeClickHandlers()})}),this.setupUpgradeClickHandlers()}setupUpgradeClickHandlers(){this.element.querySelectorAll(".upgrade-item:not(.owned)").forEach(t=>{t.addEventListener("click",()=>{if(t.classList.contains("locked"))return;const e=t.dataset.id,n=this.getAvailableUpgrades().find(t=>t.id===e);this.userService.getBalance()>=n.price?(this.userService.purchaseUpgrade(e,n.price),this.updateShopDisplay(),this.showPurchaseEffect(t)):this.showNotEnoughMoneyEffect()})})}updateShopDisplay(){const t=this.userService.getBalance();this.element.querySelector(".balance-display").textContent=`–í–∞—à –±–∞–ª–∞–Ω—Å: ${t.toFixed(2)} USD`;const e=this.element.querySelector(".category-btn.active").dataset.category,n=this.getAvailableUpgrades(),r="all"===e?n:n.filter(t=>t.category===e);this.element.querySelector(".upgrades-list").innerHTML=this.renderUpgradesList(r),this.setupUpgradeClickHandlers()}showPurchaseEffect(t){const e=document.createElement("div");e.className="purchase-effect",e.innerHTML="–£—Å–ø–µ—à–Ω–æ –∫—É–ø–ª–µ–Ω–æ!",t.appendChild(e),setTimeout(()=>{e.classList.add("fade-out"),setTimeout(()=>e.remove(),500)},1e3)}showNotEnoughMoneyEffect(){const t=this.element.querySelector(".balance-display");t.classList.add("shake"),setTimeout(()=>{t.classList.remove("shake")},500)}getElement(){return this.element}}javascript;class n{constructor(t,e){this.userService=t,this.cryptoService=e,this.element=this.createWalletElement(),this.setupEventListeners(),this.updateInterval=this.setupAutoUpdate()}createWalletElement(){const t=document.createElement("div");t.className="wallet-component";const e=this.userService.getCryptoBalances(),n=this.calculateTotalValue(e);return t.innerHTML=`\n      <div class="wallet-header">\n        <h2 class="wallet-title">–ú–æ–π –∫—Ä–∏–ø—Ç–æ-–∫–æ—à–µ–ª–µ–∫</h2>\n        <div class="total-value">\n          <span class="total-label">–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</span>\n          <span class="total-amount">${n.toFixed(2)} USD</span>\n        </div>\n      </div>\n      \n      <div class="wallet-controls">\n        <div class="search-box">\n          <input type="text" class="search-input" placeholder="–ü–æ–∏—Å–∫ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã...">\n          <button class="search-button">üîç</button>\n        </div>\n        <div class="sort-options">\n          <select class="sort-select">\n            <option value="value">–ü–æ —Å—Ç–æ–∏–º–æ—Å—Ç–∏</option>\n            <option value="name">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é</option>\n            <option value="amount">–ü–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É</option>\n          </select>\n        </div>\n      </div>\n      \n      <div class="crypto-list">\n        ${this.renderCryptoList(e)}\n      </div>\n      \n      <div class="wallet-actions">\n        <button class="action-button convert-button">–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>\n        <button class="action-button withdraw-button">–í—ã–≤–µ—Å—Ç–∏</button>\n      </div>\n    `,t}renderCryptoList(t){const e=Object.entries(t).filter(([t,e])=>e>0).map(([t,e])=>({symbol:t,name:this.cryptoService.getCryptoName(t),amount:e,value:this.cryptoService.getCryptoValue(t,e),change:this.cryptoService.getCryptoChange(t),icon:this.cryptoService.getCryptoIcon(t)}));return 0===e.length?'\n        <div class="empty-wallet">\n          <div class="empty-icon">üí∏</div>\n          <h3>–ö–æ—à–µ–ª–µ–∫ –ø—É—Å—Ç</h3>\n          <p>–ù–∞—á–Ω–∏—Ç–µ —Ç–∞–ø–∞—Ç—å, —á—Ç–æ–±—ã –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É!</p>\n        </div>\n      ':e.map(t=>`\n      <div class="crypto-item" data-symbol="${t.symbol}">\n        <div class="crypto-icon">${t.icon}</div>\n        <div class="crypto-info">\n          <div class="crypto-name">${t.name}</div>\n          <div class="crypto-symbol">${t.symbol}</div>\n        </div>\n        <div class="crypto-amount">\n          <div class="amount">${t.amount.toFixed(6)}</div>\n          <div class="value">${t.value.toFixed(2)} USD</div>\n        </div>\n        <div class="crypto-change ${t.change>=0?"positive":"negative"}">\n          ${t.change>=0?"‚Üë":"‚Üì"} ${Math.abs(t.change)}%\n        </div>\n      </div>\n    `).join("")}calculateTotalValue(t){return Object.entries(t).reduce((t,[e,n])=>t+this.cryptoService.getCryptoValue(e,n),0)}setupEventListeners(){this.element.querySelector(".search-input").addEventListener("input",t=>{this.filterCryptoList(t.target.value)}),this.element.querySelector(".sort-select").addEventListener("change",t=>{this.sortCryptoList(t.target.value)}),this.element.querySelector(".convert-button").addEventListener("click",()=>{this.showConvertModal()}),this.element.querySelector(".withdraw-button").addEventListener("click",()=>{this.showWithdrawModal()}),this.element.querySelectorAll(".crypto-item").forEach(t=>{t.addEventListener("click",()=>{const e=t.dataset.symbol;this.showCryptoDetails(e)})})}filterCryptoList(t){const e=this.element.querySelectorAll(".crypto-item"),n=t.toLowerCase();e.forEach(t=>{const e=t.querySelector(".crypto-name").textContent.toLowerCase(),r=t.querySelector(".crypto-symbol").textContent.toLowerCase(),i=e.includes(n)||r.includes(n);t.style.display=i?"flex":"none"})}sortCryptoList(t){const e=this.element.querySelector(".crypto-list"),n=Array.from(this.element.querySelectorAll(".crypto-item"));n.sort((e,n)=>{switch(e.dataset.symbol,n.dataset.symbol,t){case"name":return e.querySelector(".crypto-name").textContent.localeCompare(n.querySelector(".crypto-name").textContent);case"amount":const t=parseFloat(e.querySelector(".amount").textContent);return parseFloat(n.querySelector(".amount").textContent)-t;default:const r=parseFloat(e.querySelector(".value").textContent);return parseFloat(n.querySelector(".value").textContent)-r}}),e.innerHTML="",n.forEach(t=>e.appendChild(t))}showCryptoDetails(t){const e={symbol:t,name:this.cryptoService.getCryptoName(t),amount:this.userService.getCryptoBalance(t),value:this.cryptoService.getCryptoValue(t,this.userService.getCryptoBalance(t)),change:this.cryptoService.getCryptoChange(t),icon:this.cryptoService.getCryptoIcon(t)},n=document.createElement("div");n.className="modal crypto-details-modal",n.innerHTML=`\n      <div class="modal-content">\n        <div class="modal-header">\n          <h3>${e.icon} ${e.name} (${e.symbol})</h3>\n          <button class="close-modal">&times;</button>\n        </div>\n        <div class="modal-body">\n          <div class="crypto-stats">\n            <div class="stat">\n              <span class="stat-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</span>\n              <span class="stat-value">${e.amount.toFixed(6)}</span>\n            </div>\n            <div class="stat">\n              <span class="stat-label">–°—Ç–æ–∏–º–æ—Å—Ç—å:</span>\n              <span class="stat-value">${e.value.toFixed(2)} USD</span>\n            </div>\n            <div class="stat">\n              <span class="stat-label">–ò–∑–º–µ–Ω–µ–Ω–∏–µ (24—á):</span>\n              <span class="stat-value ${e.change>=0?"positive":"negative"}">\n                ${e.change>=0?"‚Üë":"‚Üì"} ${Math.abs(e.change)}%\n              </span>\n            </div>\n          </div>\n          \n          <div class="crypto-chart">\n            <canvas id="crypto-chart"></canvas>\n          </div>\n          \n          <div class="crypto-actions">\n            <button class="action-button convert-single-button" data-symbol="${e.symbol}">\n              –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å\n            </button>\n            <button class="action-button withdraw-single-button" data-symbol="${e.symbol}">\n              –í—ã–≤–µ—Å—Ç–∏\n            </button>\n          </div>\n        </div>\n      </div>\n    `,document.body.appendChild(n),this.initChart(t,n.querySelector("#crypto-chart")),n.querySelector(".close-modal").addEventListener("click",()=>{n.remove()}),n.querySelector(".convert-single-button").addEventListener("click",()=>{n.remove(),this.showConvertModal(t)}),n.querySelector(".withdraw-single-button").addEventListener("click",()=>{n.remove(),this.showWithdrawModal(t)})}initChart(t,e){const n=e.getContext("2d"),r={labels:Array(24).fill(0).map((t,e)=>`${e}:00`),datasets:[{label:`${t} Price`,data:Array(24).fill(0).map((e,n)=>this.cryptoService.getCryptoValue(t,1)*(.95+.1*Math.random())),borderColor:"#6c5ce7",tension:.1,fill:!0,backgroundColor:"rgba(108, 92, 231, 0.1)"}]};new Chart(n,{type:"line",data:r,options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!1}}}})}showConvertModal(t=null){const e=document.createElement("div");e.className="modal convert-modal";const n=Object.keys(this.userService.getCryptoBalances()).filter(t=>this.userService.getCryptoBalance(t)>0);e.innerHTML=`\n      <div class="modal-content">\n        <div class="modal-header">\n          <h3>–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã</h3>\n          <button class="close-modal">&times;</button>\n        </div>\n        <div class="modal-body">\n          <div class="convert-form">\n            <div class="convert-from">\n              <label>–û—Ç–¥–∞–µ—Ç–µ:</label>\n              <div class="input-group">\n                <select class="crypto-select" ${t?"disabled":""}>\n                  ${t?`<option value="${t}">${t}</option>`:n.map(t=>`\n                      <option value="${t}">${t} - ${this.cryptoService.getCryptoName(t)}</option>\n                    `).join("")}\n                </select>\n                <input type="number" class="amount-input" placeholder="0.00" step="0.000001">\n              </div>\n            </div>\n            \n            <div class="convert-arrow">‚áÖ</div>\n            \n            <div class="convert-to">\n              <label>–ü–æ–ª—É—á–∞–µ—Ç–µ:</label>\n              <div class="input-group">\n                <select class="crypto-select">\n                  ${n.map(t=>`\n                    <option value="${t}">${t} - ${this.cryptoService.getCryptoName(t)}</option>\n                  `).join("")}\n                </select>\n                <input type="number" class="amount-input" placeholder="0.00" readonly>\n              </div>\n            </div>\n          </div>\n          \n          <div class="convert-rate">\n            <span class="rate-label">–ö—É—Ä—Å:</span>\n            <span class="rate-value">1 BTC = 15.5 ETH</span>\n          </div>\n          \n          <div class="convert-fee">\n            –ö–æ–º–∏—Å—Å–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏: 1%\n          </div>\n          \n          <button class="action-button confirm-convert-button">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é</button>\n        </div>\n      </div>\n    `,document.body.appendChild(e);const r=()=>{const t=e.querySelector(".convert-from .crypto-select").value,n=e.querySelector(".convert-to .crypto-select").value,r=this.cryptoService.getCryptoValue(t,1)/this.cryptoService.getCryptoValue(n,1);e.querySelector(".rate-value").textContent=`1 ${t} = ${r.toFixed(6)} ${n}`;const i=(parseFloat(e.querySelector(".convert-from .amount-input").value)||0)*r*.99;e.querySelector(".convert-to .amount-input").value=i.toFixed(6)};e.querySelectorAll(".crypto-select").forEach(t=>{t.addEventListener("change",r)}),e.querySelector(".convert-from .amount-input").addEventListener("input",r),e.querySelector(".close-modal").addEventListener("click",()=>{e.remove()}),e.querySelector(".confirm-convert-button").addEventListener("click",()=>{const t=e.querySelector(".convert-from .crypto-select").value,n=e.querySelector(".convert-to .crypto-select").value,r=parseFloat(e.querySelector(".convert-from .amount-input").value);if(r<=0||isNaN(r))return void alert("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏");if(r>this.userService.getCryptoBalance(t))return void alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏");const i=r*(this.cryptoService.getCryptoValue(t,1)/this.cryptoService.getCryptoValue(n,1))*.99;this.userService.convertCrypto(t,n,r,i),this.updateWallet(),e.remove(),this.showNotification(`–£—Å–ø–µ—à–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ ${r.toFixed(6)} ${t} ‚Üí ${i.toFixed(6)} ${n}`)})}showWithdrawModal(t=null){const e=document.createElement("div");e.className="modal withdraw-modal";const n=Object.keys(this.userService.getCryptoBalances()).filter(t=>this.userService.getCryptoBalance(t)>0);e.innerHTML=`\n      <div class="modal-content">\n        <div class="modal-header">\n          <h3>–í—ã–≤–æ–¥ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã</h3>\n          <button class="close-modal">&times;</button>\n        </div>\n        <div class="modal-body">\n          <div class="withdraw-form">\n            <div class="form-group">\n              <label>–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞:</label>\n              <select class="crypto-select" ${t?"disabled":""}>\n                ${t?`<option value="${t}">${t}</option>`:n.map(t=>`\n                    <option value="${t}">${t} - ${this.cryptoService.getCryptoName(t)}</option>\n                  `).join("")}\n              </select>\n            </div>\n            \n            <div class="form-group">\n              <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</label>\n              <input type="number" class="amount-input" placeholder="0.00" step="0.000001">\n              <div class="balance-hint">\n                –î–æ—Å—Ç—É–ø–Ω–æ: <span class="available-balance">0.00</span>\n                <button class="max-button">MAX</button>\n              </div>\n            </div>\n            \n            <div class="form-group">\n              <label>–ê–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞:</label>\n              <input type="text" class="address-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞">\n            </div>\n            \n            <div class="form-group">\n              <label>–°–µ—Ç—å:</label>\n              <select class="network-select">\n                <option value="mainnet">–û—Å–Ω–æ–≤–Ω–∞—è —Å–µ—Ç—å (Mainnet)</option>\n                <option value="testnet">–¢–µ—Å—Ç–æ–≤–∞—è —Å–µ—Ç—å (Testnet)</option>\n                <option value="binance">Binance Smart Chain</option>\n                <option value="polygon">Polygon</option>\n              </select>\n            </div>\n            \n            <div class="withdraw-fee">\n              –ö–æ–º–∏—Å—Å–∏—è –≤—ã–≤–æ–¥–∞: <span class="fee-amount">0.0005</span>\n            </div>\n            \n            <div class="withdraw-summary">\n              –í—ã –ø–æ–ª—É—á–∏—Ç–µ: <span class="received-amount">0.00</span>\n            </div>\n          </div>\n          \n          <button class="action-button confirm-withdraw-button">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–≤–æ–¥</button>\n        </div>\n      </div>\n    `,document.body.appendChild(e);const r=()=>{const t=e.querySelector(".crypto-select").value,n=this.userService.getCryptoBalance(t);e.querySelector(".available-balance").textContent=n.toFixed(6)},i=()=>{const t=parseFloat(e.querySelector(".amount-input").value)||0,n=parseFloat(e.querySelector(".fee-amount").textContent),r=Math.max(0,t-n);e.querySelector(".received-amount").textContent=r.toFixed(6)};e.querySelector(".crypto-select").addEventListener("change",r),e.querySelector(".amount-input").addEventListener("input",i),e.querySelector(".max-button").addEventListener("click",()=>{const t=e.querySelector(".crypto-select").value,n=this.userService.getCryptoBalance(t);e.querySelector(".amount-input").value=n.toFixed(6),i()}),e.querySelector(".close-modal").addEventListener("click",()=>{e.remove()}),e.querySelector(".confirm-withdraw-button").addEventListener("click",()=>{const t=e.querySelector(".crypto-select").value,n=parseFloat(e.querySelector(".amount-input").value),r=e.querySelector(".address-input").value.trim(),i=e.querySelector(".network-select").value,a=parseFloat(e.querySelector(".fee-amount").textContent);n<=0||isNaN(n)?alert("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É –¥–ª—è –≤—ã–≤–æ–¥–∞"):n>this.userService.getCryptoBalance(t)?alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –≤—ã–≤–æ–¥–∞"):r?(this.userService.withdrawCrypto(t,n,r,i,a),this.updateWallet(),e.remove(),this.showNotification(`–ó–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã–≤–æ–¥ ${n.toFixed(6)} ${t} –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!`)):alert("–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞")}),r(),i()}showNotification(t){const e=document.createElement("div");e.className="notification",e.textContent=t,document.body.appendChild(e),setTimeout(()=>{e.classList.add("fade-out"),setTimeout(()=>e.remove(),500)},3e3)}setupAutoUpdate(){return setInterval(()=>{this.updateWallet()},6e4)}updateWallet(){const t=this.userService.getCryptoBalances(),e=this.calculateTotalValue(t);this.element.querySelector(".total-amount").textContent=`${e.toFixed(2)} USD`,this.element.querySelector(".crypto-list").innerHTML=this.renderCryptoList(t),this.element.querySelectorAll(".crypto-item").forEach(t=>{t.addEventListener("click",()=>{const e=t.dataset.symbol;this.showCryptoDetails(e)})})}destroy(){this.updateInterval&&clearInterval(this.updateInterval)}getElement(){return this.element}}javascript;class r{constructor(t){this.userService=t,this.element=this.createReferralElement(),this.setupEventListeners()}createReferralElement(){const t=document.createElement("div");t.className="referral-component";const e=this.userService.getReferralData(),n=this.generateReferralLink();return t.innerHTML=`\n      <h2 class="referral-title">–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</h2>\n      <div class="referral-box">\n        <p class="referral-description">–ü—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –±–æ–Ω—É—Å—ã!</p>\n        <div class="referral-link-container">\n          <input type="text" class="referral-link-input" value="${n}" readonly>\n          <button class="copy-referral-button">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>\n        </div>\n        <p class="referral-hint">–ó–∞ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–≥–æ –¥—Ä—É–≥–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ 10 USD –∏ 5% –æ—Ç –µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∫–∞!</p>\n      </div>\n      \n      <div class="referral-stats">\n        <div class="stat-card">\n          <div class="stat-name">–ü—Ä–∏–≥–ª–∞—à–µ–Ω–æ</div>\n          <div class="stat-value">${e.totalReferrals}</div>\n        </div>\n        <div class="stat-card">\n          <div class="stat-name">–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ</div>\n          <div class="stat-value">${e.earned} USD</div>\n        </div>\n        <div class="stat-card">\n          <div class="stat-name">–ê–∫—Ç–∏–≤–Ω—ã–µ</div>\n          <div class="stat-value">${e.activeReferrals}</div>\n        </div>\n      </div>\n      \n      <h3 class="referral-list-title">–í–∞—à–∏ —Ä–µ—Ñ–µ—Ä–∞–ª—ã</h3>\n      <div class="referral-list">\n        ${this.renderReferralList(e.referrals)}\n      </div>\n    `,t}renderReferralList(t){return 0===t.length?'<p class="no-referrals">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤</p>':`\n      <table class="referral-table">\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>–î–∞—Ç–∞</th>\n            <th>–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ</th>\n            <th>–°—Ç–∞—Ç—É—Å</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${t.map(t=>`\n            <tr>\n              <td>${t.id.substring(0,8)}...</td>\n              <td>${new Date(t.date).toLocaleDateString()}</td>\n              <td>${t.earned} USD</td>\n              <td class="status-${t.active?"active":"inactive"}">\n                ${t.active?"–ê–∫—Ç–∏–≤–µ–Ω":"–ù–µ–∞–∫—Ç–∏–≤–µ–Ω"}\n              </td>\n            </tr>\n          `).join("")}\n        </tbody>\n      </table>\n    `}generateReferralLink(){const t=this.userService.getUserId();return`https://t.me/${this.userService.getBotUsername()}?start=ref_${t}`}setupEventListeners(){this.element.querySelector(".copy-referral-button").addEventListener("click",()=>{this.element.querySelector(".referral-link-input").select(),document.execCommand("copy"),this.showCopyNotification()})}showCopyNotification(){const t=document.createElement("div");t.className="copy-notification",t.textContent="–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!",this.element.appendChild(t),setTimeout(()=>{t.classList.add("fade-out"),setTimeout(()=>t.remove(),500)},2e3)}updateReferralStats(){const t=this.userService.getReferralData(),e=this.element.querySelectorAll(".stat-value");e.length>=3&&(e[0].textContent=t.totalReferrals,e[1].textContent=`${t.earned} USD`,e[2].textContent=t.activeReferrals);const n=this.element.querySelector(".referral-list");n&&(n.innerHTML=this.renderReferralList(t.referrals))}getElement(){return this.element}}class i{constructor(t){this.achievementService=t,this.element=this.createAchievementsElement(),this.setupEventListeners(),this.achievementService.addListener(this.handleNewAchievements.bind(this))}createAchievementsElement(){const t=document.createElement("div");t.className="achievements-component";const e=this.achievementService.getAllAchievements(),n=e.filter(t=>t.unlocked).length,r=e.length;return t.innerHTML=`\n      <h2 class="achievements-title">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h2>\n      <div class="achievements-progress">\n        <div class="progress-bar">\n          <div class="progress-fill" style="width: ${n/r*100}%"></div>\n        </div>\n        <div class="progress-text">${n} / ${r}</div>\n      </div>\n      \n      <div class="achievements-filter">\n        <button class="filter-btn active" data-filter="all">–í—Å–µ</button>\n        <button class="filter-btn" data-filter="unlocked">–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ</button>\n        <button class="filter-btn" data-filter="locked">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ</button>\n      </div>\n      \n      <div class="achievements-list">\n        ${this.renderAchievementsList(e)}\n      </div>\n    `,t}renderAchievementsList(t){return 0===t.length?'<p class="no-achievements">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</p>':t.map(t=>`\n      <div class="achievement-item ${t.unlocked?"unlocked":"locked"}" data-id="${t.id}">\n        <div class="achievement-icon">${t.icon}</div>\n        <div class="achievement-info">\n          <h3 class="achievement-name">${t.name}</h3>\n          <p class="achievement-description">${t.description}</p>\n        </div>\n        <div class="achievement-status">\n          ${t.unlocked?'<span class="status-badge unlocked">–ü–æ–ª—É—á–µ–Ω–æ</span>':'<span class="status-badge locked">–ù–µ –ø–æ–ª—É—á–µ–Ω–æ</span>'}\n        </div>\n      </div>\n    `).join("")}setupEventListeners(){this.element.querySelectorAll(".filter-btn").forEach(t=>{t.addEventListener("click",()=>{this.element.querySelectorAll(".filter-btn").forEach(t=>t.classList.remove("active")),t.classList.add("active");const e=t.dataset.filter,n=this.achievementService.getAllAchievements();let r=n;"unlocked"===e?r=n.filter(t=>t.unlocked):"locked"===e&&(r=n.filter(t=>!t.unlocked)),this.element.querySelector(".achievements-list").innerHTML=this.renderAchievementsList(r)})})}handleNewAchievements(t){t.forEach(t=>{this.showAchievementNotification(t)}),this.updateAchievementsList()}showAchievementNotification(t){const e=document.createElement("div");e.className="achievement-notification",e.innerHTML=`\n      <div class="notification-icon">${t.icon}</div>\n      <div class="notification-content">\n        <h3>–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ!</h3>\n        <p>${t.name}</p>\n        <p class="reward-text">–ù–∞–≥—Ä–∞–¥–∞: ${this.formatReward(t.reward)}</p>\n      </div>\n    `,document.body.appendChild(e),setTimeout(()=>{e.classList.add("show"),setTimeout(()=>{e.classList.add("hide"),setTimeout(()=>e.remove(),500)},5e3)},100)}formatReward(t){switch(t.type){case"crypto":return`${t.value} ${t.currency}`;case"tapPower":return`+${t.value} –∫ —Å–∏–ª–µ —Ç–∞–ø–∞`;case"passiveIncome":return`+${t.value} –∫ –ø–∞—Å—Å–∏–≤–Ω–æ–º—É –¥–æ—Ö–æ–¥—É`;case"bonus":return`–ë–æ–Ω—É—Å: ${t.name}`;default:return"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –Ω–∞–≥—Ä–∞–¥–∞"}}updateAchievementsList(){const t=this.achievementService.getAllAchievements(),e=t.filter(t=>t.unlocked).length,n=t.length;this.element.querySelector(".progress-fill").style.width=e/n*100+"%",this.element.querySelector(".progress-text").textContent=`${e} / ${n}`;const r=this.element.querySelector(".filter-btn.active").dataset.filter;let i=t;"unlocked"===r?i=t.filter(t=>t.unlocked):"locked"===r&&(i=t.filter(t=>!t.unlocked)),this.element.querySelector(".achievements-list").innerHTML=this.renderAchievementsList(i)}getElement(){return this.element}}class a{constructor(t,e){this.userService=t,this.cryptoService=e,this.element=this.createMinerElement(),this.setupEventListeners(),this.setupMiningInterval(),this.isMining=!1,this.miningPower=1,this.miningCrypto="BTC",this.miningDifficulty={BTC:100,ETH:50,SOL:20,BNB:30,XRP:10,ADA:15,DOGE:5,USDT:200},this.miningProgress=0}createMinerElement(){const t=document.createElement("div");t.className="miner-component";const e=Object.keys(this.cryptoService.getAvailableCryptos(this.userService.getTotalBalance()));return t.innerHTML=`\n      <h2 class="miner-title">–ö—Ä–∏–ø—Ç–æ-–º–∞–π–Ω–µ—Ä</h2>\n      <div class="miner-description">\n        –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∞–π–Ω–µ—Ä, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!\n      </div>\n      \n      <div class="miner-controls">\n        <div class="crypto-selector">\n          <label for="mining-crypto">–í—ã–±–µ—Ä–∏—Ç–µ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É:</label>\n          <select id="mining-crypto">\n            ${e.map(t=>`\n              <option value="${t}">${this.cryptoService.getCryptoName(t)} (${t})</option>\n            `).join("")}\n          </select>\n        </div>\n        \n        <div class="mining-stats">\n          <div class="stat">\n            <span class="stat-label">–ú–æ—â–Ω–æ—Å—Ç—å –º–∞–π–Ω–∏–Ω–≥–∞:</span>\n            <span class="stat-value mining-power">${this.miningPower}</span>\n          </div>\n          <div class="stat">\n            <span class="stat-label">–°–ª–æ–∂–Ω–æ—Å—Ç—å:</span>\n            <span class="stat-value mining-difficulty">${this.miningDifficulty[this.miningCrypto]}</span>\n          </div>\n        </div>\n        \n        <div class="mining-progress-container">\n          <div class="mining-progress">\n            <div class="progress-bar" style="width: 0%"></div>\n          </div>\n          <div class="progress-text">0%</div>\n        </div>\n        \n        <button class="mining-button">–ù–∞—á–∞—Ç—å –º–∞–π–Ω–∏–Ω–≥</button>\n      </div>\n      \n      <div class="mining-upgrades">\n        <h3>–£–ª—É—á—à–µ–Ω–∏—è –º–∞–π–Ω–µ—Ä–∞</h3>\n        <div class="upgrades-list">\n          <div class="upgrade-item" data-upgrade="power">\n            <div class="upgrade-info">\n              <h4>–£–≤–µ–ª–∏—á–∏—Ç—å –º–æ—â–Ω–æ—Å—Ç—å</h4>\n              <p>+1 –∫ –º–æ—â–Ω–æ—Å—Ç–∏ –º–∞–π–Ω–∏–Ω–≥–∞</p>\n            </div>\n            <button class="upgrade-button" data-cost="100">100 USD</button>\n          </div>\n          <div class="upgrade-item" data-upgrade="efficiency">\n            <div class="upgrade-info">\n              <h4>–ü–æ–≤—ã—Å–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</h4>\n              <p>-10% –∫ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –º–∞–π–Ω–∏–Ω–≥–∞</p>\n            </div>\n            <button class="upgrade-button" data-cost="200">200 USD</button>\n          </div>\n          <div class="upgrade-item" data-upgrade="multicoin">\n            <div class="upgrade-info">\n              <h4>–ú—É–ª—å—Ç–∏-–º–∞–π–Ω–∏–Ω–≥</h4>\n              <p>–®–∞–Ω—Å –ø–æ–ª—É—á–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –º–æ–Ω–µ—Ç—É</p>\n            </div>\n            <button class="upgrade-button" data-cost="500">500 USD</button>\n          </div>\n        </div>\n      </div>\n      \n      <div class="mining-history">\n        <h3>–ò—Å—Ç–æ—Ä–∏—è –º–∞–π–Ω–∏–Ω–≥–∞</h3>\n        <div class="history-list"></div>\n      </div>\n    `,t}setupEventListeners(){this.miningButton=this.element.querySelector(".mining-button"),this.miningButton.addEventListener("click",()=>this.toggleMining()),this.cryptoSelect=this.element.querySelector("#mining-crypto"),this.cryptoSelect.addEventListener("change",()=>{this.miningCrypto=this.cryptoSelect.value,this.updateMiningStats()}),this.element.querySelectorAll(".upgrade-button").forEach(t=>{t.addEventListener("click",()=>{const e=t.parentElement.dataset.upgrade,n=parseInt(t.dataset.cost);this.userService.getTotalBalance()>=n?(this.purchaseUpgrade(e,n),t.dataset.cost=Math.floor(1.5*n),t.textContent=`${t.dataset.cost} USD`):this.showNotEnoughMoneyEffect(t)})})}setupMiningInterval(){this.miningInterval=setInterval(()=>{this.isMining&&this.updateMiningProgress()},1e3)}toggleMining(){this.isMining=!this.isMining,this.isMining?(this.miningButton.textContent="–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–∞–π–Ω–∏–Ω–≥",this.miningButton.classList.add("active"),this.cryptoSelect.disabled=!0):(this.miningButton.textContent="–ù–∞—á–∞—Ç—å –º–∞–π–Ω–∏–Ω–≥",this.miningButton.classList.remove("active"),this.cryptoSelect.disabled=!1)}updateMiningProgress(){const t=this.miningDifficulty[this.miningCrypto],e=this.miningPower/t*100;this.miningProgress+=e;const n=this.element.querySelector(".progress-bar"),r=this.element.querySelector(".progress-text");n.style.width=`${Math.min(100,this.miningProgress)}%`,r.textContent=`${Math.min(100,Math.floor(this.miningProgress))}%`,this.miningProgress>=100&&(this.mineCrypto(),this.miningProgress=0)}mineCrypto(){let t=1/this.miningDifficulty[this.miningCrypto]*this.miningPower;if(t*=.9+.2*Math.random(),this.userService.addCrypto(this.miningCrypto,t),this.addToMiningHistory(this.miningCrypto,t),this.hasMulticoinUpgrade&&Math.random()<.2){const t=Object.keys(this.cryptoService.getAvailableCryptos(this.userService.getTotalBalance())),e=t[Math.floor(Math.random()*t.length)];if(e!==this.miningCrypto){const t=1/this.miningDifficulty[e]*(this.miningPower/2);this.userService.addCrypto(e,t),this.addToMiningHistory(e,t,!0)}}}addToMiningHistory(t,e,n=!1){const r=this.element.querySelector(".history-list"),i=document.createElement("div");i.className="history-item "+(n?"bonus":"");const a=this.cryptoService.getCryptoSymbol(t);i.innerHTML=`\n      <span class="history-time">${(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}</span>\n      <span class="history-amount">+${e.toFixed(8)}</span>\n      <span class="history-crypto">${a} ${t}</span>\n      ${n?'<span class="bonus-tag">–ë–û–ù–£–°</span>':""}\n    `,r.prepend(i),r.children.length>10&&r.removeChild(r.lastChild)}purchaseUpgrade(t,e){switch(this.userService.spendBalance(e),t){case"power":this.miningPower+=1;break;case"efficiency":Object.keys(this.miningDifficulty).forEach(t=>{this.miningDifficulty[t]=Math.max(1,Math.floor(.9*this.miningDifficulty[t]))});break;case"multicoin":this.hasMulticoinUpgrade=!0}this.updateMiningStats(),this.showUpgradePurchasedEffect(t)}updateMiningStats(){this.element.querySelector(".mining-power").textContent=this.miningPower,this.element.querySelector(".mining-difficulty").textContent=this.miningDifficulty[this.miningCrypto]}showNotEnoughMoneyEffect(t){t.classList.add("shake"),setTimeout(()=>t.classList.remove("shake"),500)}showUpgradePurchasedEffect(t){const e=this.element.querySelector(`[data-upgrade="${t}"]`),n=document.createElement("div");n.className="purchase-effect",n.textContent="–£–ª—É—á—à–µ–Ω–æ!",e.appendChild(n),setTimeout(()=>{n.classList.add("fade-out"),setTimeout(()=>n.remove(),500)},1e3)}destroy(){this.miningInterval&&clearInterval(this.miningInterval)}getElement(){return this.element}}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function o(){o=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function h(e,n,r,i){var a=n&&n.prototype instanceof v?n:v,s=Object.create(a.prototype);return u(s,"_invoke",function(e,n,r){var i=1;return function(a,s){if(3===i)throw Error("Generator is already running");if(4===i){if("throw"===a)throw s;return{value:t,done:!0}}for(r.method=a,r.arg=s;;){var o=r.delegate;if(o){var c=E(o,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===i)throw i=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=3;var l=p(e,n,r);if("normal"===l.type){if(i=r.done?4:2,l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=4,r.method="throw",r.arg=l.arg)}}}(e,r,new x(i||[])),!0),s}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d={};function v(){}function y(){}function f(){}var m={};u(m,a,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(A([])));b&&b!==n&&r.call(b,a)&&(m=b);var w=f.prototype=v.prototype=Object.create(m);function S(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function k(t,e){function n(i,a,o,c){var l=p(t[i],t,a);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==s(h)&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,o,c)},function(t){n("throw",t,o,c)}):e.resolve(h).then(function(t){u.value=t,o(u)},function(t){return n("throw",t,o,c)})}c(l.arg)}var i;u(this,"_invoke",function(t,r){function a(){return new e(function(e,i){n(t,r,e,i)})}return i=i?i.then(a,a):a()},!0)}function E(e,n){var r=n.method,i=e.i[r];if(i===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var a=p(i,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,d;var s=a.arg;return s?s.done?(n[e.r]=s.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,d):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function C(t){this.tryEntries.push(t)}function T(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function x(t){this.tryEntries=[[-1]],t.forEach(C,this),this.reset(!0)}function A(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(s(e)+" is not iterable")}return y.prototype=f,u(w,"constructor",f),u(f,"constructor",y),u(f,l,y.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,u(t,l,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,c,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var s=new k(h(t,n,r,i),a);return e.isGeneratorFunction(n)?s:s.next().then(function(t){return t.done?t.value:s.next()})},S(w),u(w,l,"Generator"),u(w,a,function(){return this}),u(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=A,x.prototype={constructor:x,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){s.type="throw",s.arg=e,n.next=t}for(var i=n.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a[4],o=this.prev,c=a[1],l=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=o){if(o<c)return this.method="next",this.arg=t,r(c),!0;if(o<l)return r(l),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var i=r;break}}i&&("break"===t||"continue"===t)&&i[0]<=e&&e<=i[2]&&(i=null);var a=i?i[4]:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i[2],d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:A(e),r:n,n:r},"next"===this.method&&(this.arg=t),d}},e}function c(t,e,n,r,i,a,s){try{var o=t[a](s),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(r,i)}function l(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var a=t.apply(e,n);function s(t){c(a,r,i,s,o,"next",t)}function o(t){c(a,r,i,s,o,"throw",t)}s(void 0)})}}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function h(t){var e=function(t){if("object"!=s(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:e+""}const p=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.apiUrl="https://api.coincap.io/v2",this.cryptoMap={BTC:"bitcoin",ETH:"ethereum",SOL:"solana",BNB:"binance-coin",XRP:"xrp",ADA:"cardano",DOGE:"dogecoin",USDT:"tether"},this.lastRates={},this.lastUpdateTime=0,this.updateInterval=6e4},e=[{key:"getCurrentRates",value:(a=l(o().mark(function t(){var e,n,r,i,a,s,c=this,l=arguments;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=l.length>0&&void 0!==l[0]?l[0]:Object.keys(this.cryptoMap),t.prev=1,!((n=Date.now())-this.lastUpdateTime<this.updateInterval&&Object.keys(this.lastRates).length>0)){t.next=5;break}return t.abrupt("return",this.lastRates);case 5:return r=e.map(function(t){return c.cryptoMap[t]}).filter(function(t){return t}),t.next=8,fetch("".concat(this.apiUrl,"/assets?ids=").concat(r.join(",")));case 8:if((i=t.sent).ok){t.next=11;break}throw new Error("API request failed: ".concat(i.status," ").concat(i.statusText));case 11:return t.next=13,i.json();case 13:return a=t.sent,s={},a.data.forEach(function(t){var e=Object.keys(c.cryptoMap).find(function(e){return c.cryptoMap[e]===t.id});e&&(s[e]=parseFloat(t.priceUsd))}),this.lastRates=s,this.lastUpdateTime=n,t.abrupt("return",s);case 21:return t.prev=21,t.t0=t.catch(1),console.error("Failed to get current rates:",t.t0),t.abrupt("return",{BTC:5e4,ETH:3e3,SOL:150,BNB:400,XRP:.5,ADA:.6,DOGE:.1,USDT:1});case 25:case"end":return t.stop()}},t,this,[[1,21]])})),function(){return a.apply(this,arguments)})},{key:"getPriceHistory",value:(i=l(o().mark(function t(e){var n,r,i,a,s,c,l,u=arguments;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:"d1",r=u.length>2&&void 0!==u[2]?u[2]:null,i=u.length>3&&void 0!==u[3]?u[3]:null,t.prev=3,a=this.cryptoMap[e]){t.next=7;break}throw new Error("Unknown crypto symbol: ".concat(e));case 7:return s="".concat(this.apiUrl,"/assets/").concat(a,"/history?interval=").concat(n),r&&(s+="&start=".concat(r)),i&&(s+="&end=".concat(i)),t.next=12,fetch(s);case 12:if((c=t.sent).ok){t.next=15;break}throw new Error("API request failed: ".concat(c.status," ").concat(c.statusText));case 15:return t.next=17,c.json();case 17:return l=t.sent,t.abrupt("return",l.data.map(function(t){return[parseInt(t.time),parseFloat(t.priceUsd)]}));case 21:return t.prev=21,t.t0=t.catch(3),console.error("Failed to get price history:",t.t0),t.abrupt("return",[]);case 25:case"end":return t.stop()}},t,this,[[3,21]])})),function(t){return i.apply(this,arguments)})},{key:"getCryptoInfo",value:(r=l(o().mark(function t(e){var n,r,i;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=this.cryptoMap[e]){t.next=4;break}throw new Error("Unknown crypto symbol: ".concat(e));case 4:return t.next=6,fetch("".concat(this.apiUrl,"/assets/").concat(n));case 6:if((r=t.sent).ok){t.next=9;break}throw new Error("API request failed: ".concat(r.status," ").concat(r.statusText));case 9:return t.next=11,r.json();case 11:return i=t.sent,t.abrupt("return",{id:i.data.id,symbol:i.data.symbol,name:i.data.name,price:parseFloat(i.data.priceUsd),marketCap:parseFloat(i.data.marketCapUsd),volume24h:parseFloat(i.data.volumeUsd24Hr),change24h:parseFloat(i.data.changePercent24Hr),supply:parseFloat(i.data.supply),maxSupply:parseFloat(i.data.maxSupply)});case 15:return t.prev=15,t.t0=t.catch(0),console.error("Failed to get crypto info:",t.t0),t.abrupt("return",null);case 19:case"end":return t.stop()}},t,this,[[0,15]])})),function(t){return r.apply(this,arguments)})},{key:"getTopCryptos",value:(n=l(o().mark(function t(){var e,n,r,i=arguments;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:10,t.prev=1,t.next=4,fetch("".concat(this.apiUrl,"/assets?limit=").concat(e));case 4:if((n=t.sent).ok){t.next=7;break}throw new Error("API request failed: ".concat(n.status," ").concat(n.statusText));case 7:return t.next=9,n.json();case 9:return r=t.sent,t.abrupt("return",r.data.map(function(t){return{id:t.id,symbol:t.symbol,name:t.name,price:parseFloat(t.priceUsd),marketCap:parseFloat(t.marketCapUsd),change24h:parseFloat(t.changePercent24Hr)}}));case 13:return t.prev=13,t.t0=t.catch(1),console.error("Failed to get top cryptos:",t.t0),t.abrupt("return",[]);case 17:case"end":return t.stop()}},t,this,[[1,13]])})),function(){return n.apply(this,arguments)})}],e&&u(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r,i,a}());function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,s,o=[],c=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}(t,e)||y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){if(t){if("string"==typeof t)return f(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function m(){m=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(e,n,r,i){var a=n&&n.prototype instanceof p?n:p,s=Object.create(a.prototype);return c(s,"_invoke",function(e,n,r){var i=1;return function(a,s){if(3===i)throw Error("Generator is already running");if(4===i){if("throw"===a)throw s;return{value:t,done:!0}}for(r.method=a,r.arg=s;;){var o=r.delegate;if(o){var c=E(o,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===i)throw i=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=3;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?4:2,l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=4,r.method="throw",r.arg=l.arg)}}}(e,r,new x(i||[])),!0),s}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h={};function p(){}function v(){}function y(){}var f={};c(f,a,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(A([])));b&&b!==n&&r.call(b,a)&&(f=b);var w=y.prototype=p.prototype=Object.create(f);function S(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function k(t,e){function n(i,a,s,o){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==d(h)&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,s,o)},function(t){n("throw",t,s,o)}):e.resolve(h).then(function(t){l.value=t,s(l)},function(t){return n("throw",t,s,o)})}o(c.arg)}var i;c(this,"_invoke",function(t,r){function a(){return new e(function(e,i){n(t,r,e,i)})}return i=i?i.then(a,a):a()},!0)}function E(e,n){var r=n.method,i=e.i[r];if(i===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=u(i,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var s=a.arg;return s?s.done?(n[e.r]=s.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function C(t){this.tryEntries.push(t)}function T(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function x(t){this.tryEntries=[[-1]],t.forEach(C,this),this.reset(!0)}function A(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}throw new TypeError(d(e)+" is not iterable")}return v.prototype=y,c(w,"constructor",y),c(y,"constructor",v),c(y,o,v.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,o,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},S(k.prototype),c(k.prototype,s,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var s=new k(l(t,n,r,i),a);return e.isGeneratorFunction(n)?s:s.next().then(function(t){return t.done?t.value:s.next()})},S(w),c(w,o,"Generator"),c(w,a,function(){return this}),c(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=A,x.prototype={constructor:x,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){s.type="throw",s.arg=e,n.next=t}for(var i=n.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a[4],o=this.prev,c=a[1],l=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=o){if(o<c)return this.method="next",this.arg=t,r(c),!0;if(o<l)return r(l),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var i=r;break}}i&&("break"===t||"continue"===t)&&i[0]<=e&&e<=i[2]&&(i=null);var a=i?i[4]:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),T(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:A(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function g(t,e,n,r,i,a,s){try{var o=t[a](s),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(r,i)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w(r.key),r)}}function w(t){var e=function(t){if("object"!=d(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==d(e)?e:e+""}javascript;var S=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cryptos={BTC:{name:"Bitcoin",symbol:"‚Çø",icon:"üü†",rate:5e4,volatility:.05,unlockAt:0},ETH:{name:"Ethereum",symbol:"Œû",icon:"üî∑",rate:3e3,volatility:.07,unlockAt:1e3},SOL:{name:"Solana",symbol:"‚óé",icon:"üåÄ",rate:150,volatility:.1,unlockAt:5e3},BNB:{name:"Binance Coin",symbol:"BNB",icon:"üü°",rate:400,volatility:.06,unlockAt:3e3},XRP:{name:"Ripple",symbol:"‚úï",icon:"‚úï",rate:.5,volatility:.08,unlockAt:2e3},ADA:{name:"Cardano",symbol:"‚Ç≥",icon:"üî∂",rate:.6,volatility:.09,unlockAt:2500},DOGE:{name:"Dogecoin",symbol:"√ê",icon:"üê∂",rate:.1,volatility:.15,unlockAt:1e4},USDT:{name:"Tether",symbol:"‚ÇÆ",icon:"üíµ",rate:1,volatility:.01,unlockAt:500}},this.historicalData={},this.initializeHistoricalData(),this.lastUpdateTime=Date.now(),this.updateInterval=3e5,this.startPriceUpdates()},e=[{key:"initializeHistoricalData",value:function(){var t=this,e=Date.now();Object.keys(this.cryptos).forEach(function(n){t.historicalData[n]=[];for(var r=t.cryptos[n].rate,i=7;i>=0;i--){var a=e-864e5*i,s=t.cryptos[n].volatility,o=r*(1+(2*Math.random()-1)*s);t.historicalData[n].push({timestamp:a,rate:o})}})}},{key:"startPriceUpdates",value:function(){var t=this;this.updateIntervalId=setInterval(function(){t.updateCryptoRates()},this.updateInterval),this.updateCryptoRates(),this.fetchRealRates()}},{key:"updateCryptoRates",value:function(){var t=this,e=Date.now();Object.keys(this.cryptos).forEach(function(n){var r=t.cryptos[n].rate,i=t.cryptos[n].volatility,a=r*(1+(2*Math.random()-1)*i);t.cryptos[n].rate=a,t.historicalData[n].push({timestamp:e,rate:a}),t.historicalData[n].length>100&&t.historicalData[n].shift()}),this.lastUpdateTime=e}},{key:"fetchRealRates",value:(n=m().mark(function t(){var e,n,r=this;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=Object.keys(this.cryptos),t.next=4,p.getCurrentRates(e);case 4:n=t.sent,Object.keys(n).forEach(function(t){r.cryptos[t]&&(r.cryptos[t].rate=n[t])}),console.log("Updated crypto rates from CoinCap API:",n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Failed to fetch real crypto rates:",t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])}),r=function(){var t=this,e=arguments;return new Promise(function(r,i){var a=n.apply(t,e);function s(t){g(a,r,i,s,o,"next",t)}function o(t){g(a,r,i,s,o,"throw",t)}s(void 0)})},function(){return r.apply(this,arguments)})},{key:"getAvailableCryptos",value:function(t){return Object.entries(this.cryptos).filter(function(e){var n=v(e,2);return n[0],n[1].unlockAt<=t}).reduce(function(t,e){var n=v(e,2),r=n[0],i=n[1];return t[r]=i,t},{})}},{key:"getRandomCrypto",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,n=Object.keys(this.getAvailableCryptos(e));if(0===n.length)return"BTC";for(var r=n.map(function(e){return 1/(10*t.cryptos[e].volatility)}),i=r.reduce(function(t,e){return t+e},0),a=Math.random()*i,s=0;s<n.length;s++){if(a<r[s])return n[s];a-=r[s]}return n[0]}},{key:"getCryptoName",value:function(t){var e;return(null===(e=this.cryptos[t])||void 0===e?void 0:e.name)||t}},{key:"getCryptoSymbol",value:function(t){var e;return(null===(e=this.cryptos[t])||void 0===e?void 0:e.symbol)||t}},{key:"getCryptoIcon",value:function(t){var e;return(null===(e=this.cryptos[t])||void 0===e?void 0:e.icon)||"ü™ô"}},{key:"getCryptoValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.cryptos[t]?this.cryptos[t].rate*e:0}},{key:"getCryptoChange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"24h";if(!this.historicalData[t]||this.historicalData[t].length<2)return 0;var n,r=Date.now();switch(e){case"1h":n=r-36e5;break;case"24h":default:n=r-864e5;break;case"7d":n=r-6048e5}var i,a=this.historicalData[t],s=a[0].rate,o=function(t){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=y(t))){e&&(t=e);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==e.return||e.return()}finally{if(s)throw i}}}}(a);try{for(o.s();!(i=o.n()).done;){var c=i.value;if(c.timestamp>=n)break;s=c.rate}}catch(t){o.e(t)}finally{o.f()}var l=this.cryptos[t].rate;return parseFloat(((l-s)/s*100).toFixed(2))}},{key:"getHistoricalRates",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"7d";if(!this.historicalData[t])return[];var n,r=Date.now();switch(e){case"1h":n=r-36e5;break;case"24h":n=r-864e5;break;case"7d":default:n=r-6048e5;break;case"30d":n=r-2592e6}return this.historicalData[t].filter(function(t){return t.timestamp>=n}).map(function(t){return{time:t.timestamp,value:t.rate}})}},{key:"calculateExchangeRate",value:function(t,e){var n,r,i=null===(n=this.cryptos[t])||void 0===n?void 0:n.rate,a=null===(r=this.cryptos[e])||void 0===r?void 0:r.rate;return i&&a?i/a:0}},{key:"getConversionFee",value:function(t,e,n){var r=.01;"USDT"!==t&&"USDT"!==e||(r=.02);var i=this.calculateExchangeRate(t,e),a=n*i,s=a*r;return{fee:s,received:a-s,rate:i,feePercent:100*r}}},{key:"getWithdrawalFee",value:function(t,e){var n={BTC:5e-4,ETH:.005,SOL:.01,BNB:.001,XRP:.25,ADA:1,DOGE:5,USDT:1}[t]||.01,r=this.getCryptoValue(t,n),i=.005*e,a=this.getCryptoValue(t,10),s=Math.min(Math.max(r,i),a);return{fee:s,received:e-s}}},{key:"destroy",value:function(){this.updateIntervalId&&clearInterval(this.updateIntervalId)}}],e&&b(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}();function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function E(t){return function(t){if(Array.isArray(t))return C(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return C(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach(function(e){A(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function A(t,e,n){return(e=$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L(){L=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(e,n,r,i){var a=n&&n.prototype instanceof p?n:p,s=Object.create(a.prototype);return c(s,"_invoke",function(e,n,r){var i=1;return function(a,s){if(3===i)throw Error("Generator is already running");if(4===i){if("throw"===a)throw s;return{value:t,done:!0}}for(r.method=a,r.arg=s;;){var o=r.delegate;if(o){var c=S(o,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===i)throw i=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=3;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?4:2,l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=4,r.method="throw",r.arg=l.arg)}}}(e,r,new T(i||[])),!0),s}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h={};function p(){}function d(){}function v(){}var y={};c(y,a,function(){return this});var f=Object.getPrototypeOf,m=f&&f(f(x([])));m&&m!==n&&r.call(m,a)&&(y=m);var g=v.prototype=p.prototype=Object.create(y);function b(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){function n(i,a,s,o){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==k(h)&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,s,o)},function(t){n("throw",t,s,o)}):e.resolve(h).then(function(t){l.value=t,s(l)},function(t){return n("throw",t,s,o)})}o(c.arg)}var i;c(this,"_invoke",function(t,r){function a(){return new e(function(e,i){n(t,r,e,i)})}return i=i?i.then(a,a):a()},!0)}function S(e,n){var r=n.method,i=e.i[r];if(i===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=u(i,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var s=a.arg;return s?s.done?(n[e.r]=s.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function E(t){this.tryEntries.push(t)}function C(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function T(t){this.tryEntries=[[-1]],t.forEach(E,this),this.reset(!0)}function x(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}throw new TypeError(k(e)+" is not iterable")}return d.prototype=v,c(g,"constructor",v),c(v,"constructor",d),c(v,o,d.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,o,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,s,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var s=new w(l(t,n,r,i),a);return e.isGeneratorFunction(n)?s:s.next().then(function(t){return t.done?t.value:s.next()})},b(g),c(g,o,"Generator"),c(g,a,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=x,T.prototype={constructor:T,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){s.type="throw",s.arg=e,n.next=t}for(var i=n.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a[4],o=this.prev,c=a[1],l=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=o){if(o<c)return this.method="next",this.arg=t,r(c),!0;if(o<l)return r(l),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var i=r;break}}i&&("break"===t||"continue"===t)&&i[0]<=e&&e<=i[2]&&(i=null);var a=i?i[4]:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),C(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var i=r.arg;C(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:x(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function O(t,e,n,r,i,a,s){try{var o=t[a](s),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(r,i)}function P(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var a=t.apply(e,n);function s(t){O(a,r,i,s,o,"next",t)}function o(t){O(a,r,i,s,o,"throw",t)}s(void 0)})}}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$(r.key),r)}}function $(t){var e=function(t){if("object"!=k(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==k(e)?e:e+""}const B=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.initialized=!1,this.userId=null,this.sessionId=this.generateSessionId(),this.events=[],this.maxQueueSize=20,this.init()},e=[{key:"init",value:(r=P(L().mark(function t(){return L().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{this.loadEvents(),this.initialized=!0,console.log("Local analytics initialized")}catch(t){console.error("Failed to initialize analytics:",t)}case 1:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)})},{key:"generateSessionId",value:function(){return Date.now().toString(36)+Math.random().toString(36).substring(2)}},{key:"setUserId",value:function(t){this.userId=t}},{key:"track",value:function(t){var e=x(x({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),{},{timestamp:Date.now(),sessionId:this.sessionId});this.userId&&(e.userId=this.userId),this.queueEvent(t,e),this.events.length>=this.maxQueueSize&&this.flushEvents(),"true"===localStorage.getItem("DEBUG_MODE")&&console.log("Analytics event:",t,e)}},{key:"queueEvent",value:function(t,e){this.events.push({name:t,params:e}),this.saveEvents()}},{key:"saveEvents",value:function(){if("undefined"!=typeof localStorage)try{localStorage.setItem("analytics_events",JSON.stringify(this.events))}catch(t){console.error("Failed to save events to localStorage:",t)}}},{key:"loadEvents",value:function(){if("undefined"!=typeof localStorage)try{var t=localStorage.getItem("analytics_events");t&&(this.events=JSON.parse(t))}catch(t){console.error("Failed to load events from localStorage:",t)}}},{key:"flushEvents",value:(n=P(L().mark(function t(){return L().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.initialized&&0!==this.events.length){t.next=2;break}return t.abrupt("return");case 2:try{this.saveEvents(),"true"===localStorage.getItem("DEBUG_MODE")&&console.log("Analytics stats:",this.getStats())}catch(t){console.error("Failed to flush events:",t)}case 3:case"end":return t.stop()}},t,this)})),function(){return n.apply(this,arguments)})},{key:"trackScreen",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.track("screen_view",x({screen_name:t},e))}},{key:"trackError",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t instanceof Error?t.message:String(t),r=t instanceof Error?t.stack:null;this.track("error",x({error_message:n,error_stack:r},e))}},{key:"getStats",value:function(){var t={totalEvents:this.events.length,eventTypes:{},sessionCount:new Set(this.events.map(function(t){return t.params.sessionId})).size,firstEventTime:this.events.length>0?Math.min.apply(Math,E(this.events.map(function(t){return t.params.timestamp}))):null,lastEventTime:this.events.length>0?Math.max.apply(Math,E(this.events.map(function(t){return t.params.timestamp}))):null};return this.events.forEach(function(e){t.eventTypes[e.name]||(t.eventTypes[e.name]=0),t.eventTypes[e.name]++}),t}}],e&&j(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}());function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach(function(e){q(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function q(t,e,n){return(e=F(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F(r.key),r)}}function F(t){var e=function(t){if("object"!=D(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==D(e)?e:e+""}var N={balance:{BTC:0,ETH:0,SOL:0,BNB:0,XRP:0,ADA:0,DOGE:0,USDT:0},tapPower:1,passiveIncome:0,referralCode:function(){for(var t="",e=0;e<8;e++)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(36*Math.random()));return t}(),referrals:[],subscription:"free",lastLogin:Date.now(),dailyStreak:0,unlockedAchievements:[],upgrades:[],bonuses:{},stats:{totalTaps:0,totalEarned:0,dailyTaps:0,referralsCount:0,earned:{BTC:0,ETH:0,SOL:0,BNB:0,XRP:0,ADA:0,DOGE:0,USDT:0}}};const H=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.user=this.loadUser(),this.initializeUser()},e=[{key:"loadUser",value:function(){try{var t=localStorage.getItem("crypto_tapper_user");return t?JSON.parse(t):I({},N)}catch(t){return console.error("Failed to load user",t),I({},N)}}},{key:"initializeUser",value:function(){var t=this;this.user.passiveIncome||(this.user.passiveIncome=0),this.user.dailyStreak||(this.user.dailyStreak=0),this.user.unlockedAchievements||(this.user.unlockedAchievements=[]),this.user.upgrades||(this.user.upgrades=[]),this.user.bonuses||(this.user.bonuses={}),this.user.stats.totalEarned||(this.user.stats.totalEarned=0),this.user.stats.dailyTaps||(this.user.stats.dailyTaps=0),this.user.stats.referralsCount||(this.user.stats.referralsCount=0),["BTC","ETH","SOL","BNB","XRP","ADA","DOGE","USDT"].forEach(function(e){t.user.balance[e]||(t.user.balance[e]=0),t.user.stats.earned[e]||(t.user.stats.earned[e]=0)}),this.saveUser()}},{key:"saveUser",value:function(){return localStorage.setItem("crypto_tapper_user",JSON.stringify(this.user)),this.user}},{key:"addCrypto",value:function(t,e){return this.user.balance[t]||(this.user.balance[t]=0),this.user.balance[t]+=e,this.user.stats.earned[t]||(this.user.stats.earned[t]=0),this.user.stats.earned[t]+=e,this.user.stats.totalEarned+=e,B.track("crypto_earned",{crypto:t,amount:e}),this.saveUser()}},{key:"spendCrypto",value:function(t,e){if(!this.user.balance[t]||this.user.balance[t]<e)throw new Error("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤");return this.user.balance[t]-=e,B.track("crypto_spent",{crypto:t,amount:e}),this.saveUser()}},{key:"increaseTapPower",value:function(t){return this.user.tapPower+=t,B.track("tap_power_increased",{value:t,newPower:this.user.tapPower}),this.saveUser()}},{key:"increasePassiveIncome",value:function(t){return this.user.passiveIncome+=t,B.track("passive_income_increased",{value:t,newIncome:this.user.passiveIncome}),this.saveUser()}},{key:"purchaseUpgrade",value:function(t,e){if(this.getTotalBalance()<e)throw new Error("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤");return this.spendBalance(e),this.user.upgrades.includes(t)||this.user.upgrades.push(t),B.track("upgrade_purchased",{upgradeId:t,cost:e}),this.saveUser()}},{key:"spendBalance",value:function(t){if(this.getTotalBalance()<t)throw new Error("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤");for(var e=t,n=0,r=Object.keys(this.user.balance);n<r.length;n++){var i=r[n];if(e<=0)break;if(!(this.getCryptoValue(i)<=0)){var a=Math.min(this.user.balance[i],e/this.getCryptoRate(i));this.user.balance[i]-=a,e-=a*this.getCryptoRate(i)}}return B.track("balance_spent",{amount:t}),this.saveUser()}},{key:"activateBonus",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.user.bonuses[t]={value:e,expiresAt:n?Date.now()+n:null},B.track("bonus_activated",{bonusName:t,value:e,duration:n}),this.saveUser()}},{key:"hasActiveBonus",value:function(t){var e=this.user.bonuses[t];return!(!e||e.expiresAt&&e.expiresAt<Date.now()&&(delete this.user.bonuses[t],this.saveUser(),1))}},{key:"getBonusValue",value:function(t){return this.hasActiveBonus(t)?this.user.bonuses[t].value:null}},{key:"unlockAchievement",value:function(t){return this.user.unlockedAchievements.includes(t)?this.user:(this.user.unlockedAchievements.push(t),B.track("achievement_unlocked",{achievementId:t}),this.saveUser())}},{key:"handleReferral",value:function(t){if(!this.user.referrals.includes(t)){this.user.referrals.push(t),this.user.stats.referralsCount+=1;var e=function(t){switch(t){case"premium":return 5e-4;case"pro":return 3e-4;default:return 1e-4}}(this.user.subscription);return this.addCrypto("BTC",e),B.track("referral_applied",{code:t,reward:e}),this.saveUser()}}},{key:"incrementTapCount",value:function(){return this.user.stats.totalTaps+=1,this.user.stats.dailyTaps+=1,this.saveUser()}},{key:"incrementDailyStreak",value:function(){return this.user.dailyStreak+=1,this.user.stats.dailyTaps=0,B.track("daily_streak_increased",{streak:this.user.dailyStreak}),this.saveUser()}},{key:"resetDailyStreak",value:function(){return this.user.dailyStreak=1,this.user.stats.dailyTaps=0,B.track("daily_streak_reset"),this.saveUser()}},{key:"updateLastLogin",value:function(){return this.user.lastLogin=Date.now(),this.saveUser()}},{key:"reset",value:function(){return this.user=I({},N),this.saveUser()}},{key:"getCryptoBalance",value:function(t){return this.user.balance[t]||0}},{key:"getCryptoBalances",value:function(){return I({},this.user.balance)}},{key:"getCryptoRate",value:function(t){return{BTC:5e4,ETH:3e3,SOL:150,BNB:400,XRP:.5,ADA:.6,DOGE:.1,USDT:1}[t]||1}},{key:"getCryptoValue",value:function(t){return this.getCryptoBalance(t)*this.getCryptoRate(t)}},{key:"getTotalBalance",value:function(){var t=this;return Object.keys(this.user.balance).reduce(function(e,n){return e+t.getCryptoValue(n)},0)}},{key:"getFormattedBalance",value:function(){return"$".concat(this.getTotalBalance().toFixed(2))}},{key:"getTapPower",value:function(){var t=this.user.tapPower;return this.hasActiveBonus("tapPowerBoost")&&(t*=this.getBonusValue("tapPowerBoost")),t}},{key:"getPassiveIncome",value:function(){var t=this.user.passiveIncome;return this.hasActiveBonus("passiveIncomeBoost")&&(t*=this.getBonusValue("passiveIncomeBoost")),t}},{key:"hasUpgrade",value:function(t){return this.user.upgrades.includes(t)}},{key:"hasAutoTapper",value:function(){return this.hasUpgrade("auto_tap")}},{key:"hasPassiveIncome",value:function(){return this.user.passiveIncome>0}},{key:"hasMultiTap",value:function(){return this.hasUpgrade("multi_tap")||this.hasActiveBonus("multiTap")}},{key:"hasSubscription",value:function(){return"free"!==this.user.subscription}},{key:"getSubscriptionMultiplier",value:function(){switch(this.user.subscription){case"pro":return 1.5;case"premium":return 2;default:return 1}}},{key:"getReferralCode",value:function(){return this.user.referralCode}},{key:"getLastLogin",value:function(){return this.user.lastLogin}},{key:"getDailyStreak",value:function(){return this.user.dailyStreak}},{key:"getUnlockedAchievements",value:function(){return function(t){return function(t){if(Array.isArray(t))return U(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return U(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.user.unlockedAchievements)}},{key:"getStats",value:function(){return I(I({},this.user.stats),{},{dailyStreak:this.user.dailyStreak})}}],e&&_(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}());function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach(function(e){W(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function W(t,e,n){return(e=X(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X(r.key),r)}}function X(t){var e=function(t){if("object"!=R(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==R(e)?e:e+""}const Y=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.userService=e,this.achievements=this.defineAchievements(),this.listeners=[]},(e=[{key:"defineAchievements",value:function(){return[{id:"first_tap",name:"–ü–µ—Ä–≤—ã–π —Ç–∞–ø",description:"–°–¥–µ–ª–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π —Ç–∞–ø",icon:"üéØ",condition:function(t){return t.totalTaps>=1},reward:{type:"tapPower",value:1}},{id:"tap_10",name:"–ù–∞—á–∏–Ω–∞—é—â–∏–π —Ç–∞–ø–ø–µ—Ä",description:"–°–¥–µ–ª–∞–π—Ç–µ 10 —Ç–∞–ø–æ–≤",icon:"üëÜ",condition:function(t){return t.totalTaps>=10},reward:{type:"crypto",currency:"BTC",value:1e-4}},{id:"tap_100",name:"–û–ø—ã—Ç–Ω—ã–π —Ç–∞–ø–ø–µ—Ä",description:"–°–¥–µ–ª–∞–π—Ç–µ 100 —Ç–∞–ø–æ–≤",icon:"üëä",condition:function(t){return t.totalTaps>=100},reward:{type:"crypto",currency:"ETH",value:.001}},{id:"tap_1000",name:"–¢–∞–ø-–º–∞—Å—Ç–µ—Ä",description:"–°–¥–µ–ª–∞–π—Ç–µ 1000 —Ç–∞–ø–æ–≤",icon:"üí™",condition:function(t){return t.totalTaps>=1e3},reward:{type:"crypto",currency:"BTC",value:.001}},{id:"earn_btc",name:"–ë–∏—Ç–∫–æ–∏–Ω-—ç–Ω—Ç—É–∑–∏–∞—Å—Ç",description:"–ó–∞—Ä–∞–±–æ—Ç–∞–π—Ç–µ 0.01 BTC",icon:"‚Çø",condition:function(t){return t.earned.BTC>=.01},reward:{type:"tapPower",value:2}},{id:"earn_eth",name:"–≠—Ñ–∏—Ä–∏—É–º-—Ñ–∞–Ω–∞—Ç",description:"–ó–∞—Ä–∞–±–æ—Ç–∞–π—Ç–µ 0.1 ETH",icon:"Œû",condition:function(t){return t.earned.ETH>=.1},reward:{type:"tapPower",value:2}},{id:"earn_all",name:"–ö—Ä–∏–ø—Ç–æ-–∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–µ—Ä",description:"–ó–∞—Ä–∞–±–æ—Ç–∞–π—Ç–µ –≤—Å–µ –≤–∏–¥—ã –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç",icon:"üèÜ",condition:function(t){return["BTC","ETH","SOL","BNB","XRP","ADA","DOGE","USDT"].every(function(e){return t.earned[e]>0})},reward:{type:"bonus",name:"multiTap",value:!0}},{id:"daily_streak_3",name:"–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –∏–≥—Ä–æ–∫",description:"–ò–≥—Ä–∞–π—Ç–µ 3 –¥–Ω—è –ø–æ–¥—Ä—è–¥",icon:"üìÖ",condition:function(t){return t.dailyStreak>=3},reward:{type:"crypto",currency:"DOGE",value:10}},{id:"daily_streak_7",name:"–ù–µ–¥–µ–ª—å–Ω—ã–π –º–∞—Ä–∞—Ñ–æ–Ω",description:"–ò–≥—Ä–∞–π—Ç–µ 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥",icon:"üóìÔ∏è",condition:function(t){return t.dailyStreak>=7},reward:{type:"passiveIncome",value:1}},{id:"referral_1",name:"–ü—Ä–∏–≤–µ–¥–∏ –¥—Ä—É–≥–∞",description:"–ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ 1 –¥—Ä—É–≥–∞ –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–µ",icon:"üë•",condition:function(t){return t.referrals>=1},reward:{type:"crypto",currency:"BTC",value:5e-4}}]}},{key:"checkAchievements",value:function(){var t=this,e=this.userService.getStats(),n=this.userService.getUnlockedAchievements(),r=[];return this.achievements.forEach(function(i){n.includes(i.id)||i.condition(e)&&(t.userService.unlockAchievement(i.id),t.giveReward(i.reward),r.push(i))}),r.length>0&&this.notifyListeners(r),r}},{key:"giveReward",value:function(t){switch(t.type){case"crypto":this.userService.addCrypto(t.currency,t.value);break;case"tapPower":this.userService.increaseTapPower(t.value);break;case"passiveIncome":this.userService.increasePassiveIncome(t.value);break;case"bonus":this.userService.activateBonus(t.name,t.value)}}},{key:"getAchievement",value:function(t){return this.achievements.find(function(e){return e.id===t})}},{key:"getAllAchievements",value:function(){var t=this.userService.getUnlockedAchievements();return this.achievements.map(function(e){return V(V({},e),{},{unlocked:t.includes(e.id)})})}},{key:"addListener",value:function(t){this.listeners.push(t)}},{key:"removeListener",value:function(t){this.listeners=this.listeners.filter(function(e){return e!==t})}},{key:"notifyListeners",value:function(t){this.listeners.forEach(function(e){return e(t)})}}])&&z(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z(r.key),r)}}function Z(t){var e=function(t){if("object"!=J(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=J(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==J(e)?e:e+""}var K=function(){return s=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.initServices(),this.initComponents(),this.setupTelegramWebApp(),this.setupEventListeners(),this.renderApp(),this.checkDailyBonus()},o=[{key:"initServices",value:function(){this.cryptoService=new S,this.userService=H,this.achievementService=new Y(this.userService)}},{key:"initComponents",value:function(){this.tapper=new t(this.userService,this.cryptoService),this.shop=new e(this.userService),this.wallet=new n(this.userService,this.cryptoService),this.referral=new r(this.userService),this.achievements=new i(this.achievementService),this.cryptoMiner=new a(this.userService,this.cryptoService),this.components={tapper:this.tapper,shop:this.shop,wallet:this.wallet,referral:this.referral,achievements:this.achievements,miner:this.cryptoMiner},this.activeComponent="tapper"}},{key:"setupTelegramWebApp",value:function(){if(window.Telegram&&window.Telegram.WebApp){window.Telegram.WebApp.expand(),window.Telegram.WebApp.ready();var t=window.Telegram.WebApp.initData;if(t){var e=t.match(/start=ref_(\w+)/);if(e){var n=e[1];this.userService.handleReferral(n)}}var r=window.Telegram.WebApp.colorScheme;document.body.classList.add(r)}}},{key:"setupEventListeners",value:function(){var t=this;document.addEventListener("click",function(e){if(e.target.closest(".nav-tab")){var n=e.target.closest(".nav-tab").dataset.tab;t.switchTab(n)}}),document.addEventListener("tap",function(){t.achievementService.checkAchievements()})}},{key:"renderApp",value:function(){var t=document.getElementById("app");t.innerHTML="";var e=document.createElement("div");e.className="navigation",e.innerHTML='\n      <div class="nav-tab '.concat("tapper"===this.activeComponent?"active":"",'" data-tab="tapper">\n        <span class="nav-icon">üéÆ</span>\n        <span class="nav-text">–¢–∞–ø–µ—Ä</span>\n      </div>\n      <div class="nav-tab ').concat("miner"===this.activeComponent?"active":"",'" data-tab="miner">\n        <span class="nav-icon">‚õèÔ∏è</span>\n        <span class="nav-text">–ú–∞–π–Ω–µ—Ä</span>\n      </div>\n      <div class="nav-tab ').concat("shop"===this.activeComponent?"active":"",'" data-tab="shop">\n        <span class="nav-icon">üõí</span>\n        <span class="nav-text">–ú–∞–≥–∞–∑–∏–Ω</span>\n      </div>\n      <div class="nav-tab ').concat("wallet"===this.activeComponent?"active":"",'" data-tab="wallet">\n        <span class="nav-icon">üí∞</span>\n        <span class="nav-text">–ö–æ—à–µ–ª–µ–∫</span>\n      </div>\n      <div class="nav-tab ').concat("achievements"===this.activeComponent?"active":"",'" data-tab="achievements">\n        <span class="nav-icon">üèÜ</span>\n        <span class="nav-text">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</span>\n      </div>\n      <div class="nav-tab ').concat("referral"===this.activeComponent?"active":"",'" data-tab="referral">\n        <span class="nav-icon">üë•</span>\n        <span class="nav-text">–†–µ—Ñ–µ—Ä–∞–ª—ã</span>\n      </div>\n    ');var n=document.createElement("div");n.className="content",n.appendChild(this.components[this.activeComponent].getElement()),t.appendChild(n),t.appendChild(e)}},{key:"switchTab",value:function(t){this.activeComponent!==t&&(this.activeComponent=t,this.renderApp(),window.Telegram&&window.Telegram.WebApp&&window.Telegram.WebApp.HapticFeedback&&window.Telegram.WebApp.HapticFeedback.impactOccurred("light"))}},{key:"checkDailyBonus",value:function(){var t=this.userService.getLastLogin(),e=new Date,n=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime(),r=new Date(t).getTime();if(r<n){var i=new Date(n);i.setDate(i.getDate()-1),r>=i.getTime()?this.userService.incrementDailyStreak():this.userService.resetDailyStreak(),this.showDailyBonus(),this.userService.updateLastLogin()}}},{key:"showDailyBonus",value:function(){var t=this.userService.getDailyStreak(),e=1e-4;t>=7?e=.001:t>=3&&(e=5e-4),this.userService.addCrypto("BTC",e);var n=document.createElement("div");n.className="modal daily-bonus-modal",n.innerHTML='\n      <div class="modal-content">\n        <div class="modal-header">\n          <h3>–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å!</h3>\n          <button class="close-modal">&times;</button>\n        </div>\n        <div class="modal-body">\n          <div class="bonus-icon">üéÅ</div>\n          <h4>–î–µ–Ω—å '.concat(t,"</h4>\n          <p>–í—ã –ø–æ–ª—É—á–∏–ª–∏ <strong>").concat(e,' BTC</strong> –∑–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –≤—Ö–æ–¥!</p>\n          <div class="streak-info">\n            <p>–°–µ—Ä–∏—è –≤—Ö–æ–¥–æ–≤: ').concat(t," ").concat(1===t?"–¥–µ–Ω—å":t<5?"–¥–Ω—è":"–¥–Ω–µ–π",'</p>\n            <div class="streak-progress">\n              ').concat(Array(7).fill(0).map(function(e,n){return'\n                <div class="streak-day '.concat(n<t?"active":"",'"></div>\n              ')}).join(""),'\n            </div>\n            <p class="streak-hint">–ü—Ä–∏—Ö–æ–¥–∏—Ç–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –±–æ–Ω—É—Å–∞!</p>\n          </div>\n          <button class="claim-bonus-btn">–ó–∞–±—Ä–∞—Ç—å –±–æ–Ω—É—Å</button>\n        </div>\n      </div>\n    '),document.body.appendChild(n),n.querySelector(".close-modal").addEventListener("click",function(){n.remove()}),n.querySelector(".claim-bonus-btn").addEventListener("click",function(){n.remove();var t=document.createElement("div");t.className="bonus-effect",t.innerHTML="+".concat(e," BTC"),document.body.appendChild(t),setTimeout(function(){t.classList.add("fade-out"),setTimeout(function(){return t.remove()},1e3)},2e3)})}}],o&&Q(s.prototype,o),Object.defineProperty(s,"prototype",{writable:!1}),s;var s,o}();document.addEventListener("DOMContentLoaded",function(){new K}),window.addEventListener("error",function(t){console.error("Global error:",t.error);var e=document.createElement("div");e.className="error-message",e.innerHTML='\n    <h3>–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞</h3>\n    <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</p>\n    <button id="reload-app">–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å</button>\n  ',document.body.appendChild(e),document.getElementById("reload-app").addEventListener("click",function(){window.location.reload()})}),window.addEventListener("online",function(){document.body.classList.remove("offline")}),window.addEventListener("offline",function(){document.body.classList.add("offline");var t=document.createElement("div");t.className="offline-message",t.textContent="–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É",document.body.appendChild(t),window.addEventListener("online",function(){t.remove()},{once:!0})})})();